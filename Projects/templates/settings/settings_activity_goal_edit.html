{% extends "settings/settings_base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/settings/settings_base.css' %}">
<link rel="stylesheet" href="{% static 'css/settings/settings_s2.css' %}"> 
<link rel="stylesheet" href="{% static 'css/settings/settings_s4.css' %}">
{% endblock %}

{% block extra_js %}
<script defer src="{% static 'js/settings/settings_s4.js' %}"></script>
{% endblock %}

{% block main_area %}
<section class="settings-page">

  <article class="settings-card edit-card">
    <!-- Header -->
    <div class="edit-header">
      <a class="back-btn" href="{% url 'settings_app:settings_account' %}" aria-label="back">
        <img class="back-ico" src="{% static 'settings_img/icon_back.png' %}" alt="back">
      </a>
      <div class="edit-title">운동량 수정</div>
      <div class="edit-header-spacer"></div>
    </div>

    <form id="s4Form" method="post">
      {% csrf_token %}

      <!-- hidden inputs (DB 컬럼 그대로) -->
      <input type="hidden" id="hidActivity" name="activity_level" value="{{ activity_level|default:'' }}">
      <input type="hidden" id="hidPurpose" name="purpose" value="{{ purpose|default:'' }}">

      <!-- Activity -->
      <div class="edit-section-title">활동량 수정</div>

      <div class="select-list" id="activityList">
        <button type="button"
                class="select-item js-activity {% if activity_level == '1' %}is-active{% endif %}"
                data-value="1">
          <img class="select-icon" src="{% static 'settings_img/bear_low.png' %}" alt="low">
          <div>
            <div class="select-name">낮음</div>
            <div class="select-desc">사무직 등 좌식생활 위주, 대중교통 출퇴근 등<br>주 1~3회 가볍게 운동</div>
          </div>
        </button>

        <button type="button"
                class="select-item js-activity {% if activity_level == '2' %}is-active{% endif %}"
                data-value="2">
          <img class="select-icon" src="{% static 'settings_img/bear_mid.png' %}" alt="mid">
          <div>
            <div class="select-name">중간</div>
            <div class="select-desc">일상에서 활동량 높음,<br>주 3회 이상 운동</div>
          </div>
        </button>

        <button type="button"
                class="select-item js-activity {% if activity_level == '3' %}is-active{% endif %}"
                data-value="3">
          <img class="select-icon" src="{% static 'settings_img/bear_high.png' %}" alt="high">
          <div>
            <div class="select-name">높음</div>
            <div class="select-desc">활동량 많은 편,<br>주 5회 이상 운동</div>
          </div>
        </button>

        <button type="button"
                class="select-item js-activity {% if activity_level == '4' %}is-active{% endif %}"
                data-value="4">
          <img class="select-icon" src="{% static 'settings_img/bear_very_high.png' %}" alt="very high">
          <div>
            <div class="select-name">매우 높음</div>
            <div class="select-desc">하루종일 활동(육체노동 등),<br>매일 운동</div>
          </div>
        </button>
      </div>

      <div class="edit-divider"></div>

      <!-- Purpose -->
      <div class="edit-section-title">목표 수정</div>

      <div class="select-list" id="purposeList">
        <button type="button"
                class="select-item js-purpose {% if purpose == '2' %}is-active{% endif %}"
                data-value="2">
          <img class="select-icon" src="{% static 'settings_img/bear_maintain.png' %}" alt="maintain">
          <div>
            <div class="select-name">유지</div>
            <div class="select-desc">지금 잘먹고 계세요</div>
          </div>
        </button>

        <button type="button"
                class="select-item js-purpose {% if purpose == '1' %}is-active{% endif %}"
                data-value="1">
          <img class="select-icon" src="{% static 'settings_img/bear_diet.png' %}" alt="diet">
          <div>
            <div class="select-name">다이어트</div>
            <div class="select-desc">살을 빼기 위해 400Kcal 줄여볼까요?</div>
          </div>
        </button>

        <button type="button"
                class="select-item js-purpose {% if purpose == '3' %}is-active{% endif %}"
                data-value="3">
          <img class="select-icon" src="{% static 'settings_img/bear_bulkup.png' %}" alt="bulkup">
          <div>
            <div class="select-name">벌크업</div>
            <div class="select-desc">몸을 키우기 위해 400Kcal 늘려볼까요?</div>
          </div>
        </button>
      </div>

      <div class="edit-footer edit-footer--sticky">
        <button class="save-btn" id="saveBtn" type="submit" disabled>저장</button>
      </div>

    </form>
  </article>

</section>
{% endblock %}