{% extends "base.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/report_style.css' %}">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/locales/bootstrap-datepicker.ko.min.js"></script>

<!-- 일일/주간 버튼-->
<div class="bear-tabs-bar report-period-tabs">
    <div class="bear-tabs-inner">
        <div class="bear-tab-box period-tab active">
            <a href="/report_daily" class="bear-tab-text">일일</a>
        </div>
        <div class="bear-tab-box period-tab">
            <a href="/report_weekly" class="bear-tab-text">주간</a>
        </div>
    </div>
</div>

<!-- 달력 -->
<div class="report-datepicker">
    <input type="text" id="date-picker" class="form-control" placeholder="날짜 선택">
</div>

<script>
$(function () {
    const defaultDateStr = "{{ selected_date }}";

    $('#date-picker').datepicker({
        format: 'yyyy-mm-dd',
        language: 'ko',
        autoclose: true,
        endDate: new Date(),
        todayHighlight: false
    });

    // datepicker에 문자열로 직접 전달
    $('#date-picker').datepicker('update', defaultDateStr);
});
</script>

<!-- summary -->
<div class="summary-page">

<!-- 영양소 카드 -->
  <div class="summary-card nutrition-card">

    <!-- 제목 -->
    <div class="summary-title">
      <span>영양소</span>
    </div>

    <!-- 칼로리 -->
    <div class="nut-row">
      <div class="nut-title">칼로리</div>
      <div class="nut-text">1000 / 2000 kcal</div>
      <div class="nut-bar">
        <span style="width:40%"></span>
      </div>
    </div>

    <!-- 탄수화물 -->
    <div class="nut-row">
      <div class="nut-title">탄수화물</div>
      <div class="nut-text">180 / 300 g</div>
      <div class="nut-bar">
        <span style="width:60%"></span>
      </div>
    </div>

    <!-- 단백질 -->
    <div class="nut-row">
      <div class="nut-title">단백질</div>
      <div class="nut-text">90 / 120 g</div>
      <div class="nut-bar">
        <span style="width:75%"></span>
      </div>
    </div>

    <!-- 지방 -->
    <div class="nut-row">
      <div class="nut-title">지방</div>
      <div class="nut-text">40 / 60 g</div>
      <div class="nut-bar">
        <span style="width:66%"></span>
      </div>
    </div>

  </div>

<!-- 기분 카드 -->
  <div class="summary-card mood-card">

    <!-- 제목 -->
    <div class="summary-title">
      <span>기분</span>
    </div>

    <!-- 도넛 차트 -->
    <div class="mood-chart-placeholder">
      Donut Chart
    </div>

  </div>
</div>

{% endblock %}
