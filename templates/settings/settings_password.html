{% extends "settings/settings_base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/settings/settings_base.css' %}">
<link rel="stylesheet" href="{% static 'css/settings/settings_s5.css' %}">
{% endblock %}

{% block extra_js %}
<script defer src="{% static 'js/settings/settings_s5.js' %}"></script>
{% endblock %}

{% block main_area %}
<section class="settings-page">

  <article class="settings-card password-card">
    <!-- 헤더 -->
    <div class="edit-header">
      <a class="back-btn" href="{% url 'settings_app:settings_account' %}" aria-label="back">
        <img class="back-ico" src="{% static 'settings_img/icon_back.png' %}" alt="back">
      </a>
      <div class="edit-title">비밀번호 변경</div>
      <div class="edit-header-spacer"></div>
    </div>

    <form id="pwForm" class="password-form" method="post" action="{% url 'settings_app:settings_password' %}" novalidate>
      {% csrf_token %}

      <div class="field">
        <label class="field-label" for="curPw">현재 비밀번호</label>
        <input id="curPw" name="current_password" class="field-input" type="password"
               autocomplete="current-password" placeholder="현재 비밀번호" required>
      </div>

      <div class="field">
        <label class="field-label" for="newPw">새 비밀번호</label>
        <input id="newPw" name="new_password" class="field-input" type="password"
               autocomplete="new-password" placeholder="새 비밀번호" required>
        <p class="password-hint">8자 이상, 영문/숫자 포함 권장</p>
      </div>

      <div class="field">
        <label class="field-label" for="newPw2">새 비밀번호 확인</label>
        <input id="newPw2" name="new_password_confirm" class="field-input" type="password"
               autocomplete="new-password" placeholder="새 비밀번호 확인" required>
      </div>

      <!-- 에러/가이드 -->
      <div id="pwError" class="error-box" aria-live="polite"></div>

      <button id="saveBtn" class="password-save-btn" type="submit" disabled>변경</button>
    </form>

  </article>

</section>
{% endblock %}
