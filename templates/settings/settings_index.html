{% extends "settings/settings_base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/settings/settings_base.css' %}">
<link rel="stylesheet" href="{% static 'css/settings/settings_s0.css' %}">
{% endblock %}

{% block main_area %}
<section class="settings-page">

  <!-- (S0-1) 프로필 카드 (시안: BEAR/가입일/이메일 표시) -->
  <article class="settings-card profile-card">
    <div class="profile-row">
      <div class="profile-avatar-wrap">
        <img class="profile-avatar" src="{% static profile_badge_img %}" alt="profile badge">
      </div>

      <div class="profile-meta">
        <div class="profile-title">
          {% if nickname_is_empty %}
            BEAR에게 이름을 알려주세요
          {% else %}
            {{ nickname }}
          {% endif %}
        </div>
        {% if created_dt_label %}
          <div class="profile-sub">(가입일: {{ created_dt_label }})</div>
        {% else %}
          <div class="profile-sub"></div>
        {% endif %}
        <span class="profile-email-pill">{{ email|default:"" }}</span>
      </div>
    </div>

    <div class="profile-stats">
      <div class="stat">
        <div class="stat-label">키</div>
        <div class="stat-value">{{ height_cm|floatformat:0|default:"-" }}</div>
      </div>
      <div class="stat">
        <div class="stat-label">몸무게</div>
        <div class="stat-value">{{ weight_kg|floatformat:0|default:"-" }}</div>
      </div>
      <div class="stat">
        <div class="stat-label">나이</div>
        <div class="stat-value">{{ age|default:"-" }}</div>
      </div>
      <div class="stat">
        <div class="stat-label">성별</div>
        <div class="stat-value">{{ gender_label|default:"-" }}</div>
      </div>
    </div>
  </article>
  <!-- (S0-2) 메뉴 카드 -->
  <article class="settings-card menu-card">

    <a class="menu-item" href="{% url 'settings_app:settings_account' %}">
      <div class="menu-left">
        <img class="menu-ico" src="{% static 'settings_img/icon_account.png' %}" alt="account">
        <div class="menu-text">계정 관리</div>
      </div>
    </a>

    <div class="menu-divider"></div>

    <a class="menu-item" href="{% url 'settings_app:settings_password' %}">
      <div class="menu-left">
        <img class="menu-ico" src="{% static 'settings_img/icon_password.png' %}" alt="password">
        <div class="menu-text">비밀번호 관리</div>
      </div>
    </a>

    {% if user.is_authenticated %}
      <div class="menu-divider"></div>

      <form class="menu-item menu-item-form"
            action="{% url 'accounts_app:user_logout' %}"
            method="post">
        {% csrf_token %}

        <button type="submit" class="menu-item-btn">
          <div class="menu-left">
            <img class="menu-ico" src="{% static 'settings_img/bear_logout.png' %}" alt="logout">
            <div class="menu-text">로그아웃</div>
          </div>
        </button>
      </form>
    {% endif %}

  </article>
</section>
{% endblock %}
